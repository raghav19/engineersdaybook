--- 
--- 
@import "no-style-please";

/* Prevent horizontal scrolling on all devices */
html {
  overflow-x: hidden !important;
  max-width: 100vw !important;
}

body {
  overflow-x: hidden !important;
  max-width: 100vw !important;
}

* {
  box-sizing: border-box !important;
}

/* Increase base font size for better readability */
body {
  font-size: 20px !important;
  /* Increased from 16px by 4 points */
}

/* Preserve emoji natural colors */
p,
span,
div,
a {
  font-variant-emoji: normal;
}

/* Ensure emojis don't inherit link color */
a {
  >span {
    color: inherit;
  }
}

/* Homepage intro styling */
header+p {
  margin-top: 1rem;
  margin-bottom: 2rem;
  font-size: 1.1em;
  line-height: 1.6;
}

/* Emoji styling - preserve natural colors and prevent filter inversion */
.emoji,
span.emoji,
p .emoji,
li .emoji,
h1 .emoji,
h2 .emoji,
h3 .emoji,
h4 .emoji,
h5 .emoji,
h6 .emoji {
  font-family: "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji" !important;
  font-style: normal !important;
  font-weight: normal !important;
  text-decoration: none !important;
  display: inline !important;
}

/* Prevent emoji from inheriting paragraph or link colors */
p .emoji,
a .emoji {
  color: initial !important;
  -webkit-text-fill-color: initial !important;
}

/* Override dark mode filter for emojis - invert them back to original colors */
body[a="dark"] .emoji,
body[a="dark"] span.emoji,
body[a="dark"] p .emoji,
body[a="dark"] li .emoji,
body[a="dark"] h1 .emoji,
body[a="dark"] h2 .emoji,
body[a="dark"] h3 .emoji,
body[a="dark"] h4 .emoji,
body[a="dark"] h5 .emoji,
body[a="dark"] h6 .emoji,
body[a="dark"] a .emoji,
body[a="dark"] article .emoji,
body[a="dark"] .post .emoji,
body[a="dark"] .post-content .emoji,
body[a="dark"] main .emoji,
body[a="dark"] div .emoji,
body[a="dark"] header .emoji {
  filter: invert(1) !important;
}

/* Force emoji font family on all text elements to ensure proper emoji rendering */
body[a="dark"] h1,
body[a="dark"] h2,
body[a="dark"] h3,
body[a="dark"] h4,
body[a="dark"] h5,
body[a="dark"] h6,
body[a="dark"] p,
body[a="dark"] li,
body[a="dark"] a,
body[a="dark"] span,
body[a="dark"] div {
  /* Ensure emoji font is available but don't force it */
  font-family: inherit, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";
}

/* Force emoji to use system colors, not theme colors */
header+p::first-line {
  color: inherit;
}

/* Category sections styling */
.categories-overview {
  margin-bottom: 2rem !important;
}

/* Social links styling */
.social-links {
  display: flex;
  gap: 1rem;
  margin-top: 2rem;
  margin-bottom: 1rem;
  padding-top: 1.5rem;
  border-top: 1px solid #ddd;
  align-items: center;
  justify-content: center;
}

.social-links a {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  text-decoration: none;
  transition: all 0.2s ease;
  background-color: #f0f0f0;
  border-radius: 50%;
  width: 40px;
  height: 40px;
  padding: 0;
  overflow: hidden;
  box-sizing: border-box;
}

.social-links a:hover {
  opacity: 0.7;
  background-color: #e0e0e0;
}

.social-icon {
  width: 24px;
  height: 24px;
  stroke: #000000 !important;
  fill: none !important;
  stroke-width: 2 !important;
  display: block;
  flex-shrink: 0;
}

/* Dark mode - light background with dark icons */
body[a="dark"] .social-links a {
  background-color: #e8e8e8;
}

body[a="dark"] .social-links a:hover {
  background-color: #d0d0d0;
}

body[a="dark"] .social-icon {
  stroke: #000000 !important;
}

/* Dark mode border color */
body[a="dark"] .social-links {
  border-top-color: #555;
}

/* Mobile responsive social links */
@media (max-width: 768px) {
  .social-links {
    gap: 1.5rem;
    padding-top: 1rem;
    margin-top: 1.5rem;
    flex-wrap: wrap;
  }

  .social-links a {
    width: 44px !important;
    height: 44px !important;
    padding: 0 !important;
    flex-shrink: 0;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    overflow: hidden;
  }

  .social-icon {
    width: 24px !important;
    height: 24px !important;
    display: block !important;
    flex-shrink: 0;
  }
}

@media (max-width: 480px) {
  .social-links {
    gap: 1.2rem;
  }

  .social-links a {
    width: 40px !important;
    height: 40px !important;
    padding: 0 !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    overflow: hidden;
  }

  .social-icon {
    width: 20px !important;
    height: 20px !important;
    display: block !important;
    flex-shrink: 0;
  }
}

/* Post navigation */
.post-nav {
  margin-top: 3rem;
  padding-top: 2rem;
  border-top: 1px solid #ddd;
}

/* Related posts section */
.related-posts {
  margin-top: 3rem;
  padding-top: 1rem;
  padding-bottom: 1rem;
  border-top: 1px solid #ddd;
}

.related-posts h3 {
  margin-top: 0;
  margin-bottom: 1rem;
  font-size: 1.1em;
  font-weight: normal;
  text-align: center;
}

.related-posts ul {
  list-style: none;
  padding-left: 0;
  margin: 0;
}

.related-posts li {
  margin-bottom: 0.75rem;
  display: flex;
  gap: 1rem;
  align-items: baseline;
}

.related-post-date {
  font-size: 0.85em;
  color: #666;
  flex-shrink: 0;
  min-width: 80px;
}

.related-posts a {
  text-decoration: underline;
  color: inherit;
}

.related-posts a:hover {
  text-decoration: underline;
}

/* Dark mode for related posts */
body[a="dark"] .related-posts {
  border-top-color: #555;
}

body[a="dark"] .related-post-date {
  color: #999;
}

/* Mobile related posts */
@media (max-width: 768px) {
  .related-posts {
    margin-top: 2rem;
    padding-top: 1.5rem;
  }

  .related-posts li {
    flex-direction: column;
    gap: 0.25rem;
    align-items: flex-start;
  }

  .related-post-date {
    font-size: 0.8em;
    min-width: auto;
  }
}

.post-nav-links {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 1rem;
}

.post-nav-prev,
.post-nav-next,
.post-nav-home {
  text-decoration: none;
  color: inherit;
  padding: 0.5rem 1rem;
  border-radius: 4px;
  transition: all 0.2s ease;
}

.post-nav-prev:hover,
.post-nav-next:hover {
  background-color: #f0f0f0;
}

.post-nav-home:hover {
  background-color: #000000;
  color: #ffffff;
}

.post-nav-home {
  font-weight: normal;
}

.post-nav-disabled {
  color: #999;
  padding: 0.5rem 1rem;
}

/* Dark mode for post navigation */
body[a="dark"] .post-nav {
  border-top-color: #555;
}

body[a="dark"] .post-nav-prev:hover,
body[a="dark"] .post-nav-next:hover {
  background-color: #2d2d2d;
}

body[a="dark"] .post-nav-home:hover {
  background-color: #ffffff;
  color: #000000;
}

body[a="dark"] .post-nav-disabled {
  color: #666;
}

/* Mobile post navigation */
@media (max-width: 768px) {
  .post-nav {
    margin-top: 2rem;
    padding-top: 1.5rem;
  }

  .post-nav-links {
    flex-direction: column;
    gap: 0.75rem;
  }

  .post-nav-prev,
  .post-nav-next,
  .post-nav-home {
    width: 100%;
    text-align: center;
    display: block;
  }

  .post-nav-disabled {
    display: block;
    width: 100%;
    text-align: center;
  }
}

@media (max-width: 480px) {
  .social-links {
    gap: 1.2rem;
  }

  .social-links a {
    width: 40px;
    height: 40px;
    padding: 8px;
  }

  .social-icon {
    width: 22px;
    height: 22px;
  }
}

.category-list {
  display: flex !important;
  flex-wrap: wrap !important;
  gap: 1rem !important;
  margin-bottom: 1.5rem !important;
  list-style: none !important;
  padding: 0 !important;
}

.category-list li {
  list-style: none !important;
  margin: 0 !important;
}

.category-list a {
  padding: 0.5rem 1rem !important;
  background-color: #f0f0f0 !important;
  border-radius: 6px !important;
  text-decoration: none !important;
  border: 1px solid #ddd !important;
  display: inline-block !important;
  color: inherit !important;
  font-size: 0.9em !important;
}

.category-list a:hover {
  background-color: #e0e0e0 !important;
}

.see-all-posts {
  text-align: center !important;
  margin-top: 2rem !important;
  padding-top: 1rem !important;
  border-top: 1px solid #eee !important;
}

.see-all-posts a {
  text-decoration: none !important;
  color: inherit !important;
  font-style: italic !important;
}

.see-all-posts a:hover {
  text-decoration: underline !important;
}

/* Dark mode support for categories */
body[a="dark"] .category-list a {
  background-color: #2d2d2d !important;
  border: 1px solid #555 !important;
  color: #e0e0e0 !important;
}

body[a="dark"] .category-list a:hover {
  background-color: #3d3d3d !important;
}

body[a="dark"] .see-all-posts {
  border-top: 1px solid #444 !important;
}

/* Heading styles - underline all headings except title (h1) */
h2,
h3,
h4,
h5,
h6 {
  border-bottom: 1px solid #ddd !important;
  padding-bottom: 0.3rem !important;
  margin-bottom: 1rem !important;
}

/* Dark mode support for heading underlines */
body[a="dark"] h2,
body[a="dark"] h3,
body[a="dark"] h4,
body[a="dark"] h5,
body[a="dark"] h6 {
  border-bottom: 1px solid #555 !important;
}

/* Image alignment - align with text instead of centering */
img {
  display: block !important;
  margin: 0.5rem 0 !important;
  max-width: 100% !important;
  height: auto !important;
}

/* Images in list items should align with list text */
li img {
  margin-left: 0 !important;
  margin-top: 0.5rem !important;
  margin-bottom: 0.5rem !important;
}

/* Images in paragraphs */
p img {
  margin: 0.5rem 0 !important;
}

/* Note formatting - simple italic text with proper left alignment */
blockquote {
  margin: 0.5rem 0 !important;
  padding: 0 !important;
  border: none !important;
  background: none !important;
  font-style: italic !important;
  margin-left: 0 !important;
  text-align: left !important;
  color: inherit !important;
}

blockquote p {
  margin: 0 !important;
  padding: 0 !important;
  font-style: italic !important;
  display: block !important;
  text-align: left !important;
}

/* Notes in list items - indented italic text */
li blockquote {
  margin: 0.3rem 0 0.5rem 0 !important;
  padding: 0 !important;
  margin-left: 0 !important;
  border: none !important;
  background: none !important;
  font-style: italic !important;
  display: block !important;
  text-align: left !important;
  color: inherit !important;
}

li blockquote p {
  margin: 0 !important;
  padding: 0 !important;
  font-style: italic !important;
  display: block !important;
  text-align: left !important;
}

/* Italic text in list items (notes) - keep inline by default */
li em {
  display: inline !important;
  margin: 0 !important;
  font-style: italic !important;
  color: inherit !important;
}

/* Bold italic text (like **note:**) - keep inline by default */
li strong em,
li em strong {
  display: inline !important;
  margin: 0 !important;
  font-style: italic !important;
  color: inherit !important;
}

/* TARGET THE CORRECT THEME SELECTORS - Dynamic responsive layout */
main.page-content .w,
main .w,
div.w,
.w {
  max-width: none !important;
  width: 98% !important;
  margin: 0 auto !important;
  padding: 1rem !important;
}

main.page-content {
  width: 100% !important;
  margin: 0 !important;
  padding: 0 !important;
}

/* Responsive padding and width based on screen size */
@media (min-width: 480px) {

  main.page-content .w,
  main .w,
  div.w,
  .w {
    width: 97% !important;
    padding: 1.5rem !important;
  }
}

@media (min-width: 768px) {

  main.page-content .w,
  main .w,
  div.w,
  .w {
    width: 96% !important;
    padding: 2rem !important;
  }
}

@media (min-width: 1024px) {

  main.page-content .w,
  main .w,
  div.w,
  .w {
    width: 95% !important;
    padding: 2.5rem !important;
  }
}

@media (min-width: 1440px) {

  main.page-content .w,
  main .w,
  div.w,
  .w {
    width: 94% !important;
    padding: 3rem !important;
  }
}

@media (min-width: 1920px) {

  main.page-content .w,
  main .w,
  div.w,
  .w {
    width: 93% !important;
    padding: 3.5rem !important;
  }
}

/* Standalone pre elements - use light colors that invert to dark in dark mode */
pre {
  background-color: #e1e1e1 !important;
  /* Light gray that inverts to #1e1e1e */
  color: #b0b0b0 !important;
  /* Light gray that inverts to #4f4f4f (dark gray) */
  padding: 1.5rem !important;
  border-radius: 8px !important;
  overflow-x: auto !important;
  font-family: 'JetBrains Mono', 'Fira Code', 'Cascadia Code', 'SF Mono', Consolas, 'Liberation Mono', Menlo, monospace !important;
  font-size: 16px !important;
  line-height: 1.5 !important;
  border: none !important;
  margin: 1.5rem 0 !important;
  box-shadow: none !important;
  max-width: 100% !important;
  box-sizing: border-box !important;
  tab-size: 2 !important;
  -moz-tab-size: 2 !important;
}

/* Code block styling - pre elements inside syntax highlighting containers have transparent background */
div.highlighter-rouge pre,
.highlight pre,
figure.highlight pre {
  background-color: transparent !important;
  padding: 1.5rem !important;
  border-radius: 0 !important;
  border: none !important;
  margin: 0 !important;
}

/* Inline code styling - override theme defaults */
body code,
p code,
li code,
td code,
th code,
div code,
code {
  background-color: #f5f5f5 !important;
  color: #333 !important;
  padding: 0.2em 0.4em !important;
  border-radius: 3px !important;
  font-size: 85% !important;
  font-family: 'JetBrains Mono', 'Fira Code', 'Cascadia Code', 'SF Mono', Consolas, 'Liberation Mono', Menlo, monospace !important;
  border: 1px solid #e0e0e0 !important;
  font-weight: normal !important;
}

/* Dark mode for inline code - subtle gray */
body[a="dark"] body code,
body[a="dark"] p code,
body[a="dark"] li code,
body[a="dark"] td code,
body[a="dark"] th code,
body[a="dark"] div code,
body[a="dark"] code {
  background-color: #2d2d2d !important;
  color: #d4d4d4 !important;
  border-color: #3d3d3d !important;
}

/* Code inside pre should be transparent background but inherit text color from pre */
pre code,
div.highlighter-rouge pre code,
.highlight pre code,
figure.highlight pre code {
  background-color: transparent !important;
  color: #b0b0b0 !important;
  /* Light gray that inverts to #4f4f4f (dark gray) */
  padding: 0 !important;
  border-radius: 0 !important;
  font-size: inherit !important;
  border: none !important;
  font-weight: normal !important;
  display: inline !important;
  white-space: pre !important;
}

/* Override dark mode inline code for code inside pre blocks */
body[a="dark"] pre code,
body[a="dark"] div.highlighter-rouge pre code,
body[a="dark"] .highlight pre code,
body[a="dark"] figure.highlight pre code,
body[a="dark"] body pre code,
body[a="dark"] article pre code,
body[a="dark"] .post pre code,
body[a="dark"] main pre code,
body[a="dark"] div pre code {
  background-color: transparent !important;
  color: #b0b0b0 !important;
  /* Light gray inverts to dark gray #4f4f4f */
  padding: 0 !important;
  border: none !important;
}

/* Override theme's div.highlighter-rouge code display block */
div.highlighter-rouge code {
  display: inline !important;
  white-space: pre !important;
  overflow-x: visible !important;
  padding: 0 !important;
}

/* Syntax highlighting containers - use light colors that invert to dark in dark mode */
.highlight,
div.highlighter-rouge,
figure.highlight {
  background-color: #e1e1e1 !important;
  /* Light gray that inverts to #1e1e1e */
  color: #b0b0b0 !important;
  /* Light gray that inverts to dark gray */
  border-radius: 8px !important;
  overflow: visible !important;
  margin: 1.5rem 0 !important;
  border: none !important;
  box-shadow: none !important;
  padding: 0 !important;
  max-width: 100% !important;
  position: relative !important;
}

/* Ensure all syntax highlighting spans and elements have no background but keep color */
.highlight span,
div.highlighter-rouge span,
.highlight *,
div.highlighter-rouge * {
  background-color: transparent !important;
  background: transparent !important;
}

/* Make sure code elements inside highlights also have transparent background */
.highlight code,
div.highlighter-rouge code {
  background-color: transparent !important;
  background: transparent !important;
  color: #b0b0b0 !important;
  /* Light gray that inverts to dark gray */
}

/* Copy code button styling - colors that work with dark mode inversion */
.copy-code-button {
  position: absolute;
  top: 0.5rem;
  right: 0.5rem;
  padding: 0.5rem;
  background-color: rgba(210, 210, 210, 0.9) !important;
  /* Light gray that inverts to dark */
  color: #2b2b2b !important;
  /* Dark text that inverts to light */
  border: none !important;
  border-radius: 4px;
  cursor: pointer;
  opacity: 0;
  transition: opacity 0.3s;
  display: flex;
  align-items: center;
  justify-content: center;
  line-height: 0;
  z-index: 10;
}

.copy-code-button svg {
  display: block;
}

.copy-code-button:hover {
  opacity: 1 !important;
  background-color: rgba(195, 195, 195, 0.95) !important;
  /* Slightly darker on hover */
}

.copy-code-button:active {
  background-color: rgba(225, 225, 225, 0.95) !important;
  /* Lighter on click */
}

div.highlighter-rouge:hover .copy-code-button,
div.highlight:hover .copy-code-button,
figure.highlight:hover .copy-code-button {
  opacity: 0.7;
}

body code,
article code,
.post code,
main code,
div code,
code {
  background-color: #f5f5f5 !important;
  color: #333 !important;
  padding: 0.2em 0.4em !important;
  border-radius: 3px !important;
  font-size: 85% !important;
  font-family: 'JetBrains Mono', 'Fira Code', 'Cascadia Code', 'SF Mono', Consolas, 'Liberation Mono', Menlo, monospace !important;
  border: 1px solid #e0e0e0 !important;
  font-weight: normal !important;
}

/* Dark mode for inline code */
body[a="dark"] code,
body[a="dark"] article code,
body[a="dark"] .post code,
body[a="dark"] main code,
body[a="dark"] div code {
  background-color: #2d2d2d !important;
  color: #d4d4d4 !important;
  border-color: #3d3d3d !important;
}

/* Language-specific syntax highlighting - use medium colors that invert to visible colors */
.highlight .c,
/* Comment */
.highlight .cm,
/* Comment.Multiline */
.highlight .cp,
/* Comment.Preproc */
.highlight .c1,
/* Comment.Single */
.highlight .cs,
/* Comment.Special */
body .highlight .c,
body .highlight .cm,
body .highlight .cp,
body .highlight .c1,
body .highlight .cs {
  color: #708050 !important;
  /* Medium green-gray that inverts to visible green */
  font-style: italic !important;
}

.highlight .k,
/* Keyword */
.highlight .kc,
/* Keyword.Constant */
.highlight .kd,
/* Keyword.Declaration */
.highlight .kn,
/* Keyword.Namespace */
.highlight .kp,
/* Keyword.Pseudo */
.highlight .kr,
/* Keyword.Reserved */
.highlight .kt,
/* Keyword.Type */
body .highlight .k,
body .highlight .kc,
body .highlight .kd,
body .highlight .kn,
body .highlight .kp,
body .highlight .kr,
body .highlight .kt {
  color: #5070b0 !important;
  /* Medium blue that inverts to visible blue */
  font-weight: bold !important;
}

.highlight .s,
/* String */
.highlight .sb,
/* String.Backtick */
.highlight .sc,
/* String.Char */
.highlight .sd,
/* String.Doc */
.highlight .s2,
/* String.Double */
.highlight .se,
/* String.Escape */
.highlight .sh,
/* String.Heredoc */
.highlight .si,
/* String.Interpol */
.highlight .sx,
/* String.Other */
.highlight .sr,
/* String.Regex */
.highlight .s1,
/* String.Single */
body .highlight .s,
body .highlight .sb,
body .highlight .sc,
body .highlight .sd,
body .highlight .s2,
body .highlight .se,
body .highlight .sh,
body .highlight .si,
body .highlight .sx,
body .highlight .sr,
body .highlight .s1 {
  color: #b07050 !important;
  /* Medium orange that inverts to visible orange */
}

.highlight .m,
/* Number */
.highlight .mf,
/* Number.Float */
.highlight .mh,
/* Number.Hex */
.highlight .mi,
/* Number.Integer */
.highlight .mo,
/* Number.Oct */
body .highlight .m,
body .highlight .mf,
body .highlight .mh,
body .highlight .mi,
body .highlight .mo {
  color: #70a060 !important;
  /* Medium green that inverts to visible light green */
}

.highlight .n,
/* Name */
.highlight .na,
/* Name.Attribute */
.highlight .nb,
/* Name.Builtin */
.highlight .nc,
/* Name.Class */
.highlight .no,
/* Name.Constant */
.highlight .nd,
/* Name.Decorator */
.highlight .ni,
/* Name.Entity */
.highlight .ne,
/* Name.Exception */
.highlight .nf,
/* Name.Function */
.highlight .nl,
/* Name.Label */
.highlight .nn,
/* Name.Namespace */
.highlight .nx,
/* Name.Other */
.highlight .py,
/* Name.Property */
.highlight .nt,
/* Name.Tag */
.highlight .nv,
/* Name.Variable */
body .highlight .n,
body .highlight .na,
body .highlight .nb,
body .highlight .nc,
body .highlight .no,
body .highlight .nd,
body .highlight .ni,
body .highlight .ne,
body .highlight .nf,
body .highlight .nl,
body .highlight .nn,
body .highlight .nx,
body .highlight .py,
body .highlight .nt,
body .highlight .nv {
  color: #b0b0b0 !important;
  /* Light gray that inverts to dark gray */
}

.highlight .o,
/* Operator */
.highlight .ow,
/* Operator.Word */
body .highlight .o,
body .highlight .ow {
  color: #b0b0b0 !important;
  /* Light gray that inverts to dark gray */
}

/* Special highlighting for YAML */
.highlight .l-Scalar-Plain,
body .highlight .l-Scalar-Plain {
  color: #b07050 !important;
  /* Medium orange */
}

/* Special highlighting for shell/bash */
.highlight .gp,
body .highlight .gp {
  color: #708050 !important;
  /* Medium green */
}

/* Generic.Prompt */

.highlight .go,
body .highlight .go {
  color: #b0b0b0 !important;
  /* Light gray that inverts to dark gray */
}

/* Generic.Output */

/* Post and TOC layout */
.post-container {
  display: flex;
  flex-direction: row;
  align-items: flex-start;
  gap: 2rem;
}

.post-content {
  flex: 1;
  min-width: 0;
  /* Prevents flexbox overflow */
  max-width: 100%;
  overflow-x: hidden;
}

.toc {
  width: 280px;
  position: -webkit-sticky;
  /* For Safari */
  position: sticky;
  top: 2rem;
  align-self: flex-start;
  max-height: calc(100vh - 4rem);
  overflow-y: auto;
  font-size: 0.85em;
}

/* TOC styling */
#toc-container {
  border: none;
  border-radius: 0;
  padding: 0;
  background: transparent;
}

#toc-title {
  font-weight: normal;
  margin-top: 0;
  border-bottom: 1px solid #ddd;
  padding-bottom: 0.5rem;
  margin-bottom: 1rem;
  font-size: 1em;
}

#toc-list,
#markdown-toc {
  list-style: none;
  padding-left: 0;
  margin-bottom: 0;
}

#markdown-toc ul {
  padding-left: 1rem;
  list-style-type: none;
  margin-top: 0.5rem;
}

#markdown-toc>li {
  margin-bottom: 0.5rem;
}

#markdown-toc li {
  margin-bottom: 0.3rem;
}

#markdown-toc li a {
  text-decoration: none;
  color: inherit;
  display: block;
  padding: 0.2rem 0;
  font-size: 0.9em;
}

#markdown-toc li a:hover {
  text-decoration: underline;
}

/* Dark mode for TOC */
body[a="dark"] #toc-title {
  border-color: #555;
}

/* Responsive: Show TOC on mobile in a different layout */
@media (max-width: 1024px) {
  .post-container {
    flex-direction: column;
  }

  .post-content {
    order: 2;
  }

  .toc {
    order: 1;
    position: static;
    width: 100%;
    max-height: none;
    margin-bottom: 2rem;
    padding-bottom: 1.5rem;
    border-bottom: 1px solid #ddd;
  }

  #toc-container {
    padding: 0;
  }

  #toc-title {
    font-size: 1.1em;
    margin-bottom: 0.75rem;
  }

  #markdown-toc {
    font-size: 0.9em;
  }

  #markdown-toc li {
    margin-bottom: 0.4rem;
  }
}

body[a="dark"] .toc {
  border-bottom-color: #555 !important;
}

/* Heading target highlight - gray background like inline code */
h2:target,
h3:target,
h4:target,
h5:target,
h6:target {
  background-color: #e8e8e8 !important;
  color: #333 !important;
  padding: 0.5rem !important;
  border-radius: 3px !important;
  transition: background-color 0.3s ease;
}

/* Dark mode for heading target highlight */
body[a="dark"] h2:target,
body[a="dark"] h3:target,
body[a="dark"] h4:target,
body[a="dark"] h5:target,
body[a="dark"] h6:target {
  background-color: #3c3c3c !important;
  color: #e0e0e0 !important;
}

/* Mobile-friendly enhancements */
@media (max-width: 768px) {

  /* Prevent horizontal scrolling and fix overflow */
  html,
  body {
    overflow-x: hidden !important;
    max-width: 100vw !important;
  }

  /* Fix word breaking for long words */
  body,
  article,
  .post-content,
  p,
  li,
  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    word-wrap: break-word !important;
    overflow-wrap: break-word !important;
    word-break: break-word !important;
    hyphens: auto !important;
  }

  /* Adjust base font size for mobile */
  body {
    font-size: 18px !important;
  }

  /* Reduce padding on mobile */
  .w {
    width: 100% !important;
    padding: 0.75rem !important;
    box-sizing: border-box !important;
  }

  /* Make category buttons stack better on mobile */
  .category-list {
    gap: 0.5rem !important;
  }

  .category-list a {
    padding: 0.4rem 0.8rem !important;
    font-size: 0.85em !important;
  }

  /* Adjust heading sizes for mobile */
  h1 {
    font-size: 1.5em !important;
  }

  h2 {
    font-size: 1.3em !important;
  }

  h3 {
    font-size: 1.1em !important;
  }

  /* Make code blocks scroll horizontally on mobile */
  pre {
    overflow-x: auto !important;
    font-size: 12px !important;
    padding: 1rem !important;
  }

  /* Adjust images for mobile */
  img {
    max-width: 100% !important;
    height: auto !important;
  }

  /* Better touch targets for links */
  a {
    padding: 0.2rem 0 !important;
    display: inline-block !important;
  }

  /* Adjust list spacing on mobile */
  ul,
  ol {
    padding-left: 1.5rem !important;
  }

  li {
    margin-bottom: 0.5rem !important;
  }
}

/* Extra small screens (phones in portrait) */
@media (max-width: 480px) {

  /* Prevent horizontal scrolling on small phones */
  html,
  body {
    overflow-x: hidden !important;
    max-width: 100vw !important;
  }

  * {
    max-width: 100% !important;
  }

  body {
    font-size: 16px !important;
  }

  .w {
    padding: 0.5rem !important;
    width: 100% !important;
    box-sizing: border-box !important;
  }

  article,
  .post-content {
    max-width: 100% !important;
    overflow-x: hidden !important;
  }

  h1 {
    font-size: 1.3em !important;
  }

  h2 {
    font-size: 1.2em !important;
  }

  h3 {
    font-size: 1.05em !important;
  }

  pre {
    font-size: 11px !important;
    padding: 0.75rem !important;
  }

  code {
    font-size: 80% !important;
  }

  /* Make category buttons full width on very small screens */
  .category-list {
    flex-direction: column !important;
  }

  .category-list a {
    display: block !important;
    text-align: center !important;
  }
}

/* ============================================
   FINAL OVERRIDE - Code Block Backgrounds
   ============================================ */

/* Force containers to have solid gray background */
body div.highlighter-rouge,
body .highlight,
body figure.highlight,
article div.highlighter-rouge,
article .highlight,
article figure.highlight,
main div.highlighter-rouge,
main .highlight,
main figure.highlight,
.post div.highlighter-rouge,
.post .highlight,
.post figure.highlight {
  background-color: #1e1e1e !important;
  background: #1e1e1e !important;
}

/* Force all child elements to be transparent */
body div.highlighter-rouge *,
body .highlight *,
body figure.highlight *,
article div.highlighter-rouge *,
article .highlight *,
article figure.highlight *,
main div.highlighter-rouge *,
main .highlight *,
main figure.highlight *,
.post div.highlighter-rouge *,
.post .highlight *,
.post figure.highlight * {
  background-color: transparent !important;
  background: transparent !important;
}