{%- assign all_categories = site.categories | sort -%}

{%- if all_categories.size > 0 -%}
<div class="categories-overview">
  <ul class="category-list">
    {%- for category in all_categories -%}
    {%- assign category_name = category[0] -%}
    {%- assign category_posts = category[1] -%}
    <li>
      <a href="{{ '/archives/' | append: category_name | append: '-archive.html' | relative_url }}">
        {{ category_name | downcase }} ({{ category_posts.size }})
      </a>
    </li>
    {%- endfor -%}
  </ul>
</div>

{%- if include.show_more -%}
<p class="see-all-posts">
  <a href="{{ include.show_more_url | relative_url }}">{{ include.show_more_text | default: "see all posts..." }}</a>
</p>
{%- endif -%}
{%- else -%}
<p>no categorized posts found.</p>
{%- endif -%}